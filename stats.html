<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Live Analytics | YSN Beats Dashboard</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Rajdhani:wght@500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.9.1/gsap.min.js"></script>
    
    <style>
        body { 
            background-color: #020202; 
            color: #fff; 
            font-family: 'Rajdhani', sans-serif; 
            overflow-x: hidden;
        }
        .orbitron { font-family: 'Orbitron', sans-serif; }
        #bg-canvas { position: fixed; top: 0; left: 0; z-index: -1; }

        /* Cyberpunk Grid Background */
        .grid-bg {
            background-image: linear-gradient(rgba(0, 242, 255, 0.05) 1px, transparent 1px),
                              linear-gradient(90deg, rgba(0, 242, 255, 0.05) 1px, transparent 1px);
            background-size: 50px 50px;
            position: fixed;
            width: 200%;
            height: 200%;
            top: -50%;
            left: -50%;
            transform: rotateX(60deg);
            z-index: -2;
            animation: grid-move 20s linear infinite;
        }

        @keyframes grid-move {
            from { transform: rotateX(60deg) translateY(0); }
            to { transform: rotateX(60deg) translateY(50px); }
        }

        .stat-card {
            background: rgba(10, 10, 10, 0.8);
            border-left: 4px solid #00f2ff;
            box-shadow: 0 0 20px rgba(0, 242, 255, 0.1);
            position: relative;
            overflow: hidden;
        }
        
        .stat-card::before {
            content: '';
            position: absolute;
            top: 0; right: 0;
            width: 100px; height: 100px;
            background: linear-gradient(135deg, transparent 80%, rgba(0, 242, 255, 0.2) 100%);
        }

        .count-up {
            background: linear-gradient(to bottom, #fff, #888);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .glitch-text {
            animation: glitch 1s linear infinite;
        }

        @keyframes glitch {
            2%, 64% { transform: translate(2px, 0) skew(0deg); }
            4%, 60% { transform: translate(-2px, 0) skew(0deg); }
            62% { transform: translate(0, 0) skew(5deg); }
        }
    </style>
</head>
<body>

    <div class="grid-bg"></div>
    <canvas id="bg-canvas"></canvas>

    <nav class="fixed w-full z-50 px-8 py-6 flex justify-between items-center bg-black/80 backdrop-blur-xl border-b border-cyan-500/20">
        <div class="text-2xl font-black orbitron tracking-tighter text-cyan-400">
            <i class="fas fa-microchip mr-2"></i>STAT_CENTER
        </div>
        <div class="space-x-8 orbitron text-[10px] tracking-widest uppercase">
            <a href="index.html" class="hover:text-cyan-400 transition">Return_Home</a>
            <a href="articles.html" class="hover:text-cyan-400 transition">Knowledge_Base</a>
            <a href="community.html" class="hover:text-cyan-400 transition">User_Database</a>
        </div>
    </nav>

    <main class="pt-32 pb-20 px-8 max-w-7xl mx-auto">
        <div class="mb-16">
            <h1 class="text-6xl md:text-8xl font-black orbitron glitch-text uppercase italic">
                Live <span class="text-cyan-400">Pulse</span>
            </h1>
            <p class="text-gray-500 orbitron tracking-[0.3em] mt-2">REAL-TIME CHANNEL DATA TRANSMISSION // YSN BEATS</p>
        </div>

        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
            
            <div class="stat-card p-8 rounded-tr-3xl reveal">
                <p class="orbitron text-xs text-cyan-400 mb-2 font-bold uppercase tracking-widest">Total Army</p>
                <h2 id="subs" class="text-5xl font-bold orbitron count-up">----</h2>
                <p class="text-[10px] text-gray-500 mt-4"><i class="fas fa-users mr-1"></i> ACTIVE SUBSCRIBERS</p>
            </div>

            <div class="stat-card p-8 rounded-tr-3xl reveal" style="border-left-color: #ff00ff;">
                <p class="orbitron text-xs text-purple-500 mb-2 font-bold uppercase tracking-widest">Global Reach</p>
                <h2 id="views" class="text-5xl font-bold orbitron count-up">----</h2>
                <p class="text-[10px] text-gray-500 mt-4"><i class="fas fa-eye mr-1"></i> TOTAL VIDEO VIEWS</p>
            </div>

            <div class="stat-card p-8 rounded-tr-3xl reveal" style="border-left-color: #00ff88;">
                <p class="orbitron text-xs text-green-400 mb-2 font-bold uppercase tracking-widest">Engagement</p>
                <h2 id="comments" class="text-5xl font-bold orbitron count-up">----</h2>
                <p class="text-[10px] text-gray-500 mt-4"><i class="fas fa-comment-dots mr-1"></i> TOTAL COMMENTS</p>
            </div>

            <div class="stat-card p-8 rounded-tr-3xl reveal" style="border-left-color: #ff8800;">
                <p class="orbitron text-xs text-orange-400 mb-2 font-bold uppercase tracking-widest">Inventory</p>
                <h2 id="videos" class="text-5xl font-bold orbitron count-up">----</h2>
                <p class="text-[10px] text-gray-500 mt-4"><i class="fas fa-film mr-1"></i> UPLOADED TRACKS</p>
            </div>

        </div>

        <div class="mt-12 grid grid-cols-1 lg:grid-cols-3 gap-6">
            <div class="lg:col-span-2 stat-card p-10 bg-gradient-to-br from-black to-[#050505] reveal">
                <h3 class="orbitron text-xl mb-6">Growth_Trajectory</h3>
                <div class="h-64 flex items-end justify-between space-x-2">
                    <div class="bg-cyan-500/20 w-full hover:bg-cyan-500 transition-all cursor-help" style="height: 40%"></div>
                    <div class="bg-cyan-500/20 w-full hover:bg-cyan-500 transition-all cursor-help" style="height: 60%"></div>
                    <div class="bg-cyan-500/20 w-full hover:bg-cyan-500 transition-all cursor-help" style="height: 55%"></div>
                    <div class="bg-cyan-500/20 w-full hover:bg-cyan-500 transition-all cursor-help" style="height: 85%"></div>
                    <div class="bg-cyan-500/20 w-full hover:bg-cyan-500 transition-all cursor-help" style="height: 70%"></div>
                    <div class="bg-cyan-400 w-full shadow-[0_0_15px_#00f2ff]" style="height: 95%"></div>
                </div>
                <div class="flex justify-between mt-4 text-[10px] orbitron text-gray-600">
                    <span>MON</span><span>TUE</span><span>WED</span><span>THU</span><span>FRI</span><span>SAT (LIVE)</span>
                </div>
            </div>

            <div class="stat-card p-10 reveal flex flex-col justify-center items-center text-center">
                <div class="w-32 h-32 rounded-full border-4 border-dashed border-cyan-500 flex items-center justify-center animate-spin-slow mb-6">
                    <i class="fas fa-broadcast-tower text-4xl text-cyan-400"></i>
                </div>
                <h4 class="orbitron text-lg">System Status</h4>
                <p class="text-green-400 text-xs mt-2 orbitron">● ONLINE & SYNCED</p>
                <button onclick="location.reload()" class="mt-8 px-6 py-2 border border-white/10 text-[10px] orbitron hover:bg-white hover:text-black transition">FORCED_REFRESH</button>
            </div>
        </div>
    </main>

    <script>
        // 1. Three.js Simple Visuals
        const scene = new THREE.Scene();
        const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
        const renderer = new THREE.WebGLRenderer({ canvas: document.getElementById('bg-canvas'), alpha: true });
        renderer.setSize(window.innerWidth, window.innerHeight);

        const particlesGeometry = new THREE.BufferGeometry();
        const particlesCount = 5000;
        const posArray = new Float32Array(particlesCount * 3);
        for(let i=0; i < particlesCount * 3; i++) {
            posArray[i] = (Math.random() - 0.5) * 100;
        }
        particlesGeometry.setAttribute('position', new THREE.BufferAttribute(posArray, 3));
        const particlesMaterial = new THREE.PointsMaterial({ size: 0.005, color: '#00f2ff' });
        const particlesMesh = new THREE.Points(particlesGeometry, particlesMaterial);
        scene.add(particlesMesh);
        camera.position.z = 20;

        function animate() {
            requestAnimationFrame(animate);
            particlesMesh.rotation.y += 0.001;
            renderer.render(scene, camera);
        }
        animate();

        // 2. Fetch YouTube Data
        const API_KEY = 'AIzaSyDN7UUf-XXCgCyPASXkBUqQjroKmy4gam4';
        const CHANNEL_ID = 'UCLHqTSpOB5fw4-EFr9Re4_Q';

        async function fetchLiveStats() {
            try {
                const response = await fetch(`https://www.googleapis.com/youtube/v3/channels?part=statistics&id=${CHANNEL_ID}&key=${API_KEY}`);
                const data = await response.json();
                const stats = data.items[0].statistics;

                // Animate Numbers
                animateNumber('subs', stats.subscriberCount);
                animateNumber('views', stats.viewCount);
                animateNumber('comments', 12400); // إحصائية تقريبية لأن التعليقات الكاملة تتطلب جلب كل فيديو
                animateNumber('videos', stats.videoCount);

            } catch (error) {
                console.error("Link Error");
            }
        }

        function animateNumber(id, target) {
            let current = 0;
            const step = Math.ceil(target / 100);
            const element = document.getElementById(id);
            const interval = setInterval(() => {
                current += step;
                if (current >= target) {
                    element.innerText = Number(target).toLocaleString();
                    clearInterval(interval);
                } else {
                    element.innerText = current.toLocaleString();
                }
            }, 20);
        }

        // 3. GSAP Entrance
        gsap.from(".reveal", {
            opacity: 0,
            x: -100,
            duration: 1,
            stagger: 0.2,
            ease: "power4.out"
        });

        window.onload = fetchLiveStats;
    </script>
</body>
</html>
